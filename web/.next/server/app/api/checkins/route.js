"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/checkins/route";
exports.ids = ["app/api/checkins/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("child_process");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcheckins%2Froute&page=%2Fapi%2Fcheckins%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcheckins%2Froute.ts&appDir=%2FUsers%2Fhusky%2Fauto-southwest-check-in%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fhusky%2Fauto-southwest-check-in%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcheckins%2Froute&page=%2Fapi%2Fcheckins%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcheckins%2Froute.ts&appDir=%2FUsers%2Fhusky%2Fauto-southwest-check-in%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fhusky%2Fauto-southwest-check-in%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_husky_auto_southwest_check_in_web_app_api_checkins_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/checkins/route.ts */ \"(rsc)/./app/api/checkins/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/checkins/route\",\n        pathname: \"/api/checkins\",\n        filename: \"route\",\n        bundlePath: \"app/api/checkins/route\"\n    },\n    resolvedPagePath: \"/Users/husky/auto-southwest-check-in/web/app/api/checkins/route.ts\",\n    nextConfigOutput,\n    userland: _Users_husky_auto_southwest_check_in_web_app_api_checkins_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/checkins/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZjaGVja2lucyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGY2hlY2tpbnMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZjaGVja2lucyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmh1c2t5JTJGYXV0by1zb3V0aHdlc3QtY2hlY2staW4lMkZ3ZWIlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGaHVza3klMkZhdXRvLXNvdXRod2VzdC1jaGVjay1pbiUyRndlYiZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNrQjtBQUMvRjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVHQUF1RztBQUMvRztBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzZKOztBQUU3SiIsInNvdXJjZXMiOlsid2VicGFjazovL3NvdXRod2VzdC1jaGVja2luLW1vbml0b3IvPzYxNTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL2h1c2t5L2F1dG8tc291dGh3ZXN0LWNoZWNrLWluL3dlYi9hcHAvYXBpL2NoZWNraW5zL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9jaGVja2lucy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2NoZWNraW5zXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9jaGVja2lucy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy9odXNreS9hdXRvLXNvdXRod2VzdC1jaGVjay1pbi93ZWIvYXBwL2FwaS9jaGVja2lucy9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9jaGVja2lucy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcheckins%2Froute&page=%2Fapi%2Fcheckins%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcheckins%2Froute.ts&appDir=%2FUsers%2Fhusky%2Fauto-southwest-check-in%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fhusky%2Fauto-southwest-check-in%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/checkins/route.ts":
/*!***********************************!*\
  !*** ./app/api/checkins/route.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./lib/db.ts\");\n\n\n// Use cloud manager for Vercel deployment, local manager for development\nconst checkInManager = process.env.VERCEL ? (__webpack_require__(/*! @/lib/checkin-manager-cloud */ \"(rsc)/./lib/checkin-manager-cloud.ts\").checkInManager) : (__webpack_require__(/*! @/lib/checkin-manager */ \"(rsc)/./lib/checkin-manager.ts\").checkInManager);\nasync function GET() {\n    try {\n        const checkIns = _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.getAll();\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            checkIns\n        });\n    } catch (error) {\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Failed to fetch check-ins\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request) {\n    try {\n        const { confirmationNumber, firstName, lastName } = await request.json();\n        // Validate input\n        if (!confirmationNumber || !firstName || !lastName) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Missing required fields\"\n            }, {\n                status: 400\n            });\n        }\n        // Validate confirmation number format (6 characters, alphanumeric)\n        if (!/^[A-Z0-9]{6}$/.test(confirmationNumber.toUpperCase())) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Invalid confirmation number format. Must be 6 alphanumeric characters.\"\n            }, {\n                status: 400\n            });\n        }\n        // Check if already scheduled\n        const existing = _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.getActiveCheckIns().find((c)=>c.confirmationNumber === confirmationNumber.toUpperCase());\n        if (existing) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"This confirmation number is already scheduled for check-in\"\n            }, {\n                status: 400\n            });\n        }\n        // Try NAS first, then cloud\n        const checkIn = await checkInManager.scheduleCheckIn(confirmationNumber.toUpperCase(), firstName, lastName, \"nas\" // Will implement NAS/cloud logic later\n        );\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            checkIn\n        });\n    } catch (error) {\n        console.error(\"Error scheduling check-in:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Failed to schedule check-in\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2NoZWNraW5zL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBdUQ7QUFDMUI7QUFDN0IseUVBQXlFO0FBQ3pFLE1BQU1FLGlCQUFpQkMsUUFBUUMsR0FBRyxDQUFDQyxNQUFNLEdBQ3JDQywrR0FBcUQsR0FDckRBLG1HQUErQztBQUU1QyxlQUFlQztJQUNwQixJQUFJO1FBQ0YsTUFBTUMsV0FBV1AsdUNBQUVBLENBQUNRLE1BQU07UUFDMUIsT0FBT1Qsa0ZBQVlBLENBQUNVLElBQUksQ0FBQztZQUFFRjtRQUFTO0lBQ3RDLEVBQUUsT0FBT0csT0FBTztRQUNkLE9BQU9YLGtGQUFZQSxDQUFDVSxJQUFJLENBQUM7WUFBRUMsT0FBTztRQUE0QixHQUFHO1lBQUVDLFFBQVE7UUFBSTtJQUNqRjtBQUNGO0FBRU8sZUFBZUMsS0FBS0MsT0FBb0I7SUFDN0MsSUFBSTtRQUNGLE1BQU0sRUFBRUMsa0JBQWtCLEVBQUVDLFNBQVMsRUFBRUMsUUFBUSxFQUFFLEdBQUcsTUFBTUgsUUFBUUosSUFBSTtRQUV0RSxpQkFBaUI7UUFDakIsSUFBSSxDQUFDSyxzQkFBc0IsQ0FBQ0MsYUFBYSxDQUFDQyxVQUFVO1lBQ2xELE9BQU9qQixrRkFBWUEsQ0FBQ1UsSUFBSSxDQUN0QjtnQkFBRUMsT0FBTztZQUEwQixHQUNuQztnQkFBRUMsUUFBUTtZQUFJO1FBRWxCO1FBRUEsbUVBQW1FO1FBQ25FLElBQUksQ0FBQyxnQkFBZ0JNLElBQUksQ0FBQ0gsbUJBQW1CSSxXQUFXLEtBQUs7WUFDM0QsT0FBT25CLGtGQUFZQSxDQUFDVSxJQUFJLENBQ3RCO2dCQUFFQyxPQUFPO1lBQXlFLEdBQ2xGO2dCQUFFQyxRQUFRO1lBQUk7UUFFbEI7UUFFQSw2QkFBNkI7UUFDN0IsTUFBTVEsV0FBV25CLHVDQUFFQSxDQUFDb0IsaUJBQWlCLEdBQUdDLElBQUksQ0FDMUNDLENBQUFBLElBQUtBLEVBQUVSLGtCQUFrQixLQUFLQSxtQkFBbUJJLFdBQVc7UUFHOUQsSUFBSUMsVUFBVTtZQUNaLE9BQU9wQixrRkFBWUEsQ0FBQ1UsSUFBSSxDQUN0QjtnQkFBRUMsT0FBTztZQUE2RCxHQUN0RTtnQkFBRUMsUUFBUTtZQUFJO1FBRWxCO1FBRUEsNEJBQTRCO1FBQzVCLE1BQU1ZLFVBQVUsTUFBTXRCLGVBQWV1QixlQUFlLENBQ2xEVixtQkFBbUJJLFdBQVcsSUFDOUJILFdBQ0FDLFVBQ0EsTUFBTSx1Q0FBdUM7O1FBRy9DLE9BQU9qQixrRkFBWUEsQ0FBQ1UsSUFBSSxDQUFDO1lBQUVjO1FBQVE7SUFDckMsRUFBRSxPQUFPYixPQUFPO1FBQ2RlLFFBQVFmLEtBQUssQ0FBQyw4QkFBOEJBO1FBQzVDLE9BQU9YLGtGQUFZQSxDQUFDVSxJQUFJLENBQ3RCO1lBQUVDLE9BQU87UUFBOEIsR0FDdkM7WUFBRUMsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zb3V0aHdlc3QtY2hlY2tpbi1tb25pdG9yLy4vYXBwL2FwaS9jaGVja2lucy9yb3V0ZS50cz84N2UzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcidcbmltcG9ydCB7IGRiIH0gZnJvbSAnQC9saWIvZGInXG4vLyBVc2UgY2xvdWQgbWFuYWdlciBmb3IgVmVyY2VsIGRlcGxveW1lbnQsIGxvY2FsIG1hbmFnZXIgZm9yIGRldmVsb3BtZW50XG5jb25zdCBjaGVja0luTWFuYWdlciA9IHByb2Nlc3MuZW52LlZFUkNFTCBcbiAgPyByZXF1aXJlKCdAL2xpYi9jaGVja2luLW1hbmFnZXItY2xvdWQnKS5jaGVja0luTWFuYWdlclxuICA6IHJlcXVpcmUoJ0AvbGliL2NoZWNraW4tbWFuYWdlcicpLmNoZWNrSW5NYW5hZ2VyXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQoKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgY2hlY2tJbnMgPSBkYi5nZXRBbGwoKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGNoZWNrSW5zIH0pXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdGYWlsZWQgdG8gZmV0Y2ggY2hlY2staW5zJyB9LCB7IHN0YXR1czogNTAwIH0pXG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGNvbmZpcm1hdGlvbk51bWJlciwgZmlyc3ROYW1lLCBsYXN0TmFtZSB9ID0gYXdhaXQgcmVxdWVzdC5qc29uKClcbiAgICBcbiAgICAvLyBWYWxpZGF0ZSBpbnB1dFxuICAgIGlmICghY29uZmlybWF0aW9uTnVtYmVyIHx8ICFmaXJzdE5hbWUgfHwgIWxhc3ROYW1lKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdNaXNzaW5nIHJlcXVpcmVkIGZpZWxkcycgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApXG4gICAgfVxuICAgIFxuICAgIC8vIFZhbGlkYXRlIGNvbmZpcm1hdGlvbiBudW1iZXIgZm9ybWF0ICg2IGNoYXJhY3RlcnMsIGFscGhhbnVtZXJpYylcbiAgICBpZiAoIS9eW0EtWjAtOV17Nn0kLy50ZXN0KGNvbmZpcm1hdGlvbk51bWJlci50b1VwcGVyQ2FzZSgpKSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnSW52YWxpZCBjb25maXJtYXRpb24gbnVtYmVyIGZvcm1hdC4gTXVzdCBiZSA2IGFscGhhbnVtZXJpYyBjaGFyYWN0ZXJzLicgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApXG4gICAgfVxuICAgIFxuICAgIC8vIENoZWNrIGlmIGFscmVhZHkgc2NoZWR1bGVkXG4gICAgY29uc3QgZXhpc3RpbmcgPSBkYi5nZXRBY3RpdmVDaGVja0lucygpLmZpbmQoXG4gICAgICBjID0+IGMuY29uZmlybWF0aW9uTnVtYmVyID09PSBjb25maXJtYXRpb25OdW1iZXIudG9VcHBlckNhc2UoKVxuICAgIClcbiAgICBcbiAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ1RoaXMgY29uZmlybWF0aW9uIG51bWJlciBpcyBhbHJlYWR5IHNjaGVkdWxlZCBmb3IgY2hlY2staW4nIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKVxuICAgIH1cbiAgICBcbiAgICAvLyBUcnkgTkFTIGZpcnN0LCB0aGVuIGNsb3VkXG4gICAgY29uc3QgY2hlY2tJbiA9IGF3YWl0IGNoZWNrSW5NYW5hZ2VyLnNjaGVkdWxlQ2hlY2tJbihcbiAgICAgIGNvbmZpcm1hdGlvbk51bWJlci50b1VwcGVyQ2FzZSgpLFxuICAgICAgZmlyc3ROYW1lLFxuICAgICAgbGFzdE5hbWUsXG4gICAgICAnbmFzJyAvLyBXaWxsIGltcGxlbWVudCBOQVMvY2xvdWQgbG9naWMgbGF0ZXJcbiAgICApXG4gICAgXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgY2hlY2tJbiB9KVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNjaGVkdWxpbmcgY2hlY2staW46JywgZXJyb3IpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogJ0ZhaWxlZCB0byBzY2hlZHVsZSBjaGVjay1pbicgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgIClcbiAgfVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImRiIiwiY2hlY2tJbk1hbmFnZXIiLCJwcm9jZXNzIiwiZW52IiwiVkVSQ0VMIiwicmVxdWlyZSIsIkdFVCIsImNoZWNrSW5zIiwiZ2V0QWxsIiwianNvbiIsImVycm9yIiwic3RhdHVzIiwiUE9TVCIsInJlcXVlc3QiLCJjb25maXJtYXRpb25OdW1iZXIiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsInRlc3QiLCJ0b1VwcGVyQ2FzZSIsImV4aXN0aW5nIiwiZ2V0QWN0aXZlQ2hlY2tJbnMiLCJmaW5kIiwiYyIsImNoZWNrSW4iLCJzY2hlZHVsZUNoZWNrSW4iLCJjb25zb2xlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/checkins/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/checkin-manager-cloud.ts":
/*!**************************************!*\
  !*** ./lib/checkin-manager-cloud.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkInManager: () => (/* binding */ checkInManager)\n/* harmony export */ });\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./db */ \"(rsc)/./lib/db.ts\");\n\n// Cloud version that uses external API for check-in scheduling\nclass CloudCheckInManager {\n    async scheduleCheckIn(confirmationNumber, firstName, lastName, source) {\n        // Create check-in record\n        const checkIn = _db__WEBPACK_IMPORTED_MODULE_0__.db.create({\n            confirmationNumber,\n            firstName,\n            lastName,\n            status: \"pending\",\n            source\n        });\n        // For cloud deployment, we'll use a different approach\n        // Instead of spawning processes, we'll use scheduled functions\n        if (source === \"cloud\") {\n            // Schedule check-in using Vercel cron or external service\n            await this.scheduleCloudCheckIn(checkIn);\n        } else {\n            // For NAS, we'll make an API call to the NAS instance\n            await this.scheduleNASCheckIn(checkIn);\n        }\n        return checkIn;\n    }\n    async scheduleCloudCheckIn(checkIn) {\n        // Update status to scheduled\n        _db__WEBPACK_IMPORTED_MODULE_0__.db.update(checkIn.id, {\n            status: \"scheduled\"\n        });\n        // In a real implementation, this would:\n        // 1. Calculate the check-in time (24 hours before flight)\n        // 2. Schedule a job using Vercel Cron or an external service\n        // 3. Store the job ID for tracking\n        // For now, we'll simulate the scheduling\n        setTimeout(()=>{\n            _db__WEBPACK_IMPORTED_MODULE_0__.db.update(checkIn.id, {\n                scheduledTime: new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString()\n            });\n        }, 1000);\n    }\n    async scheduleNASCheckIn(checkIn) {\n        try {\n            // Make API call to NAS instance\n            const nasUrl = process.env.NAS_API_URL || \"http://66.65.96.63:3001\";\n            const response = await fetch(`${nasUrl}/api/schedule`, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    confirmationNumber: checkIn.confirmationNumber,\n                    firstName: checkIn.firstName,\n                    lastName: checkIn.lastName\n                })\n            });\n            if (response.ok) {\n                _db__WEBPACK_IMPORTED_MODULE_0__.db.update(checkIn.id, {\n                    status: \"scheduled\"\n                });\n            } else {\n                throw new Error(\"Failed to schedule on NAS\");\n            }\n        } catch (error) {\n            // If NAS fails, fall back to cloud\n            console.error(\"NAS scheduling failed, falling back to cloud:\", error);\n            checkIn.source = \"cloud\";\n            _db__WEBPACK_IMPORTED_MODULE_0__.db.update(checkIn.id, {\n                source: \"cloud\"\n            });\n            await this.scheduleCloudCheckIn(checkIn);\n        }\n    }\n    stopCheckIn(id) {\n        const checkIn = _db__WEBPACK_IMPORTED_MODULE_0__.db.get(id);\n        if (checkIn) {\n            _db__WEBPACK_IMPORTED_MODULE_0__.db.update(id, {\n                status: \"failed\",\n                error: \"Cancelled by user\"\n            });\n            return true;\n        }\n        return false;\n    }\n    getActiveProcessCount() {\n        return _db__WEBPACK_IMPORTED_MODULE_0__.db.getActiveCheckIns().length;\n    }\n}\nconst checkInManager = new CloudCheckInManager();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvY2hlY2tpbi1tYW5hZ2VyLWNsb3VkLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQ3lCO0FBRXpCLCtEQUErRDtBQUMvRCxNQUFNQztJQUNKLE1BQU1DLGdCQUNKQyxrQkFBMEIsRUFDMUJDLFNBQWlCLEVBQ2pCQyxRQUFnQixFQUNoQkMsTUFBdUIsRUFDTDtRQUNsQix5QkFBeUI7UUFDekIsTUFBTUMsVUFBVVAsbUNBQUVBLENBQUNRLE1BQU0sQ0FBQztZQUN4Qkw7WUFDQUM7WUFDQUM7WUFDQUksUUFBUTtZQUNSSDtRQUNGO1FBRUEsdURBQXVEO1FBQ3ZELCtEQUErRDtRQUMvRCxJQUFJQSxXQUFXLFNBQVM7WUFDdEIsMERBQTBEO1lBQzFELE1BQU0sSUFBSSxDQUFDSSxvQkFBb0IsQ0FBQ0g7UUFDbEMsT0FBTztZQUNMLHNEQUFzRDtZQUN0RCxNQUFNLElBQUksQ0FBQ0ksa0JBQWtCLENBQUNKO1FBQ2hDO1FBRUEsT0FBT0E7SUFDVDtJQUVBLE1BQWNHLHFCQUFxQkgsT0FBZ0IsRUFBRTtRQUNuRCw2QkFBNkI7UUFDN0JQLG1DQUFFQSxDQUFDWSxNQUFNLENBQUNMLFFBQVFNLEVBQUUsRUFBRTtZQUFFSixRQUFRO1FBQVk7UUFFNUMsd0NBQXdDO1FBQ3hDLDBEQUEwRDtRQUMxRCw2REFBNkQ7UUFDN0QsbUNBQW1DO1FBRW5DLHlDQUF5QztRQUN6Q0ssV0FBVztZQUNUZCxtQ0FBRUEsQ0FBQ1ksTUFBTSxDQUFDTCxRQUFRTSxFQUFFLEVBQUU7Z0JBQ3BCRSxlQUFlLElBQUlDLEtBQUtBLEtBQUtDLEdBQUcsS0FBSyxLQUFLLEtBQUssS0FBSyxNQUFNQyxXQUFXO1lBQ3ZFO1FBQ0YsR0FBRztJQUNMO0lBRUEsTUFBY1AsbUJBQW1CSixPQUFnQixFQUFFO1FBQ2pELElBQUk7WUFDRixnQ0FBZ0M7WUFDaEMsTUFBTVksU0FBU0MsUUFBUUMsR0FBRyxDQUFDQyxXQUFXLElBQUk7WUFDMUMsTUFBTUMsV0FBVyxNQUFNQyxNQUFNLENBQUMsRUFBRUwsT0FBTyxhQUFhLENBQUMsRUFBRTtnQkFDckRNLFFBQVE7Z0JBQ1JDLFNBQVM7b0JBQUUsZ0JBQWdCO2dCQUFtQjtnQkFDOUNDLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQztvQkFDbkIxQixvQkFBb0JJLFFBQVFKLGtCQUFrQjtvQkFDOUNDLFdBQVdHLFFBQVFILFNBQVM7b0JBQzVCQyxVQUFVRSxRQUFRRixRQUFRO2dCQUM1QjtZQUNGO1lBRUEsSUFBSWtCLFNBQVNPLEVBQUUsRUFBRTtnQkFDZjlCLG1DQUFFQSxDQUFDWSxNQUFNLENBQUNMLFFBQVFNLEVBQUUsRUFBRTtvQkFBRUosUUFBUTtnQkFBWTtZQUM5QyxPQUFPO2dCQUNMLE1BQU0sSUFBSXNCLE1BQU07WUFDbEI7UUFDRixFQUFFLE9BQU9DLE9BQU87WUFDZCxtQ0FBbUM7WUFDbkNDLFFBQVFELEtBQUssQ0FBQyxpREFBaURBO1lBQy9EekIsUUFBUUQsTUFBTSxHQUFHO1lBQ2pCTixtQ0FBRUEsQ0FBQ1ksTUFBTSxDQUFDTCxRQUFRTSxFQUFFLEVBQUU7Z0JBQUVQLFFBQVE7WUFBUTtZQUN4QyxNQUFNLElBQUksQ0FBQ0ksb0JBQW9CLENBQUNIO1FBQ2xDO0lBQ0Y7SUFFQTJCLFlBQVlyQixFQUFVLEVBQVc7UUFDL0IsTUFBTU4sVUFBVVAsbUNBQUVBLENBQUNtQyxHQUFHLENBQUN0QjtRQUN2QixJQUFJTixTQUFTO1lBQ1hQLG1DQUFFQSxDQUFDWSxNQUFNLENBQUNDLElBQUk7Z0JBQUVKLFFBQVE7Z0JBQVV1QixPQUFPO1lBQW9CO1lBQzdELE9BQU87UUFDVDtRQUNBLE9BQU87SUFDVDtJQUVBSSx3QkFBZ0M7UUFDOUIsT0FBT3BDLG1DQUFFQSxDQUFDcUMsaUJBQWlCLEdBQUdDLE1BQU07SUFDdEM7QUFDRjtBQUVPLE1BQU1DLGlCQUFpQixJQUFJdEMsc0JBQXFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc291dGh3ZXN0LWNoZWNraW4tbW9uaXRvci8uL2xpYi9jaGVja2luLW1hbmFnZXItY2xvdWQudHM/MDNjOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDaGVja0luIH0gZnJvbSAnLi90eXBlcydcbmltcG9ydCB7IGRiIH0gZnJvbSAnLi9kYidcblxuLy8gQ2xvdWQgdmVyc2lvbiB0aGF0IHVzZXMgZXh0ZXJuYWwgQVBJIGZvciBjaGVjay1pbiBzY2hlZHVsaW5nXG5jbGFzcyBDbG91ZENoZWNrSW5NYW5hZ2VyIHtcbiAgYXN5bmMgc2NoZWR1bGVDaGVja0luKFxuICAgIGNvbmZpcm1hdGlvbk51bWJlcjogc3RyaW5nLFxuICAgIGZpcnN0TmFtZTogc3RyaW5nLFxuICAgIGxhc3ROYW1lOiBzdHJpbmcsXG4gICAgc291cmNlOiAnbmFzJyB8ICdjbG91ZCdcbiAgKTogUHJvbWlzZTxDaGVja0luPiB7XG4gICAgLy8gQ3JlYXRlIGNoZWNrLWluIHJlY29yZFxuICAgIGNvbnN0IGNoZWNrSW4gPSBkYi5jcmVhdGUoe1xuICAgICAgY29uZmlybWF0aW9uTnVtYmVyLFxuICAgICAgZmlyc3ROYW1lLFxuICAgICAgbGFzdE5hbWUsXG4gICAgICBzdGF0dXM6ICdwZW5kaW5nJyxcbiAgICAgIHNvdXJjZSxcbiAgICB9KVxuICAgIFxuICAgIC8vIEZvciBjbG91ZCBkZXBsb3ltZW50LCB3ZSdsbCB1c2UgYSBkaWZmZXJlbnQgYXBwcm9hY2hcbiAgICAvLyBJbnN0ZWFkIG9mIHNwYXduaW5nIHByb2Nlc3Nlcywgd2UnbGwgdXNlIHNjaGVkdWxlZCBmdW5jdGlvbnNcbiAgICBpZiAoc291cmNlID09PSAnY2xvdWQnKSB7XG4gICAgICAvLyBTY2hlZHVsZSBjaGVjay1pbiB1c2luZyBWZXJjZWwgY3JvbiBvciBleHRlcm5hbCBzZXJ2aWNlXG4gICAgICBhd2FpdCB0aGlzLnNjaGVkdWxlQ2xvdWRDaGVja0luKGNoZWNrSW4pXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEZvciBOQVMsIHdlJ2xsIG1ha2UgYW4gQVBJIGNhbGwgdG8gdGhlIE5BUyBpbnN0YW5jZVxuICAgICAgYXdhaXQgdGhpcy5zY2hlZHVsZU5BU0NoZWNrSW4oY2hlY2tJbilcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGNoZWNrSW5cbiAgfVxuICBcbiAgcHJpdmF0ZSBhc3luYyBzY2hlZHVsZUNsb3VkQ2hlY2tJbihjaGVja0luOiBDaGVja0luKSB7XG4gICAgLy8gVXBkYXRlIHN0YXR1cyB0byBzY2hlZHVsZWRcbiAgICBkYi51cGRhdGUoY2hlY2tJbi5pZCwgeyBzdGF0dXM6ICdzY2hlZHVsZWQnIH0pXG4gICAgXG4gICAgLy8gSW4gYSByZWFsIGltcGxlbWVudGF0aW9uLCB0aGlzIHdvdWxkOlxuICAgIC8vIDEuIENhbGN1bGF0ZSB0aGUgY2hlY2staW4gdGltZSAoMjQgaG91cnMgYmVmb3JlIGZsaWdodClcbiAgICAvLyAyLiBTY2hlZHVsZSBhIGpvYiB1c2luZyBWZXJjZWwgQ3JvbiBvciBhbiBleHRlcm5hbCBzZXJ2aWNlXG4gICAgLy8gMy4gU3RvcmUgdGhlIGpvYiBJRCBmb3IgdHJhY2tpbmdcbiAgICBcbiAgICAvLyBGb3Igbm93LCB3ZSdsbCBzaW11bGF0ZSB0aGUgc2NoZWR1bGluZ1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgZGIudXBkYXRlKGNoZWNrSW4uaWQsIHsgXG4gICAgICAgIHNjaGVkdWxlZFRpbWU6IG5ldyBEYXRlKERhdGUubm93KCkgKyAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpXG4gICAgICB9KVxuICAgIH0sIDEwMDApXG4gIH1cbiAgXG4gIHByaXZhdGUgYXN5bmMgc2NoZWR1bGVOQVNDaGVja0luKGNoZWNrSW46IENoZWNrSW4pIHtcbiAgICB0cnkge1xuICAgICAgLy8gTWFrZSBBUEkgY2FsbCB0byBOQVMgaW5zdGFuY2VcbiAgICAgIGNvbnN0IG5hc1VybCA9IHByb2Nlc3MuZW52Lk5BU19BUElfVVJMIHx8ICdodHRwOi8vNjYuNjUuOTYuNjM6MzAwMSdcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7bmFzVXJsfS9hcGkvc2NoZWR1bGVgLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGNvbmZpcm1hdGlvbk51bWJlcjogY2hlY2tJbi5jb25maXJtYXRpb25OdW1iZXIsXG4gICAgICAgICAgZmlyc3ROYW1lOiBjaGVja0luLmZpcnN0TmFtZSxcbiAgICAgICAgICBsYXN0TmFtZTogY2hlY2tJbi5sYXN0TmFtZSxcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgICBcbiAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICBkYi51cGRhdGUoY2hlY2tJbi5pZCwgeyBzdGF0dXM6ICdzY2hlZHVsZWQnIH0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBzY2hlZHVsZSBvbiBOQVMnKVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyBJZiBOQVMgZmFpbHMsIGZhbGwgYmFjayB0byBjbG91ZFxuICAgICAgY29uc29sZS5lcnJvcignTkFTIHNjaGVkdWxpbmcgZmFpbGVkLCBmYWxsaW5nIGJhY2sgdG8gY2xvdWQ6JywgZXJyb3IpXG4gICAgICBjaGVja0luLnNvdXJjZSA9ICdjbG91ZCdcbiAgICAgIGRiLnVwZGF0ZShjaGVja0luLmlkLCB7IHNvdXJjZTogJ2Nsb3VkJyB9KVxuICAgICAgYXdhaXQgdGhpcy5zY2hlZHVsZUNsb3VkQ2hlY2tJbihjaGVja0luKVxuICAgIH1cbiAgfVxuICBcbiAgc3RvcENoZWNrSW4oaWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGNoZWNrSW4gPSBkYi5nZXQoaWQpXG4gICAgaWYgKGNoZWNrSW4pIHtcbiAgICAgIGRiLnVwZGF0ZShpZCwgeyBzdGF0dXM6ICdmYWlsZWQnLCBlcnJvcjogJ0NhbmNlbGxlZCBieSB1c2VyJyB9KVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbiAgXG4gIGdldEFjdGl2ZVByb2Nlc3NDb3VudCgpOiBudW1iZXIge1xuICAgIHJldHVybiBkYi5nZXRBY3RpdmVDaGVja0lucygpLmxlbmd0aFxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBjaGVja0luTWFuYWdlciA9IG5ldyBDbG91ZENoZWNrSW5NYW5hZ2VyKClcbiJdLCJuYW1lcyI6WyJkYiIsIkNsb3VkQ2hlY2tJbk1hbmFnZXIiLCJzY2hlZHVsZUNoZWNrSW4iLCJjb25maXJtYXRpb25OdW1iZXIiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsInNvdXJjZSIsImNoZWNrSW4iLCJjcmVhdGUiLCJzdGF0dXMiLCJzY2hlZHVsZUNsb3VkQ2hlY2tJbiIsInNjaGVkdWxlTkFTQ2hlY2tJbiIsInVwZGF0ZSIsImlkIiwic2V0VGltZW91dCIsInNjaGVkdWxlZFRpbWUiLCJEYXRlIiwibm93IiwidG9JU09TdHJpbmciLCJuYXNVcmwiLCJwcm9jZXNzIiwiZW52IiwiTkFTX0FQSV9VUkwiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5Iiwib2siLCJFcnJvciIsImVycm9yIiwiY29uc29sZSIsInN0b3BDaGVja0luIiwiZ2V0IiwiZ2V0QWN0aXZlUHJvY2Vzc0NvdW50IiwiZ2V0QWN0aXZlQ2hlY2tJbnMiLCJsZW5ndGgiLCJjaGVja0luTWFuYWdlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/checkin-manager-cloud.ts\n");

/***/ }),

/***/ "(rsc)/./lib/checkin-manager.ts":
/*!********************************!*\
  !*** ./lib/checkin-manager.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkInManager: () => (/* binding */ checkInManager)\n/* harmony export */ });\n/* harmony import */ var child_process__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! child_process */ \"child_process\");\n/* harmony import */ var child_process__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(child_process__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./db */ \"(rsc)/./lib/db.ts\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nclass CheckInManager {\n    constructor(){\n        this.processes = new Map();\n        // Path to the main southwest.py script\n        // In production/Docker, the script is in the parent directory\n        // In development, it's two directories up\n        // Determine script path based on environment\n        if (false) {} else {\n            // In development, use absolute path\n            this.scriptPath = \"/Users/husky/auto-southwest-check-in/southwest.py\";\n        }\n    }\n    async scheduleCheckIn(confirmationNumber, firstName, lastName, source) {\n        // Create check-in record\n        const checkIn = _db__WEBPACK_IMPORTED_MODULE_1__.db.create({\n            confirmationNumber,\n            firstName,\n            lastName,\n            status: \"pending\",\n            source\n        });\n        // Start the check-in process\n        this.startCheckInProcess(checkIn);\n        return checkIn;\n    }\n    startCheckInProcess(checkIn) {\n        try {\n            // Spawn the Python process\n            const pythonProcess = (0,child_process__WEBPACK_IMPORTED_MODULE_0__.spawn)(\"python3\", [\n                this.scriptPath,\n                checkIn.confirmationNumber,\n                checkIn.firstName,\n                checkIn.lastName\n            ], {\n                cwd: path__WEBPACK_IMPORTED_MODULE_2___default().dirname(this.scriptPath),\n                env: {\n                    ...process.env,\n                    AUTO_SOUTHWEST_CHECK_IN_CHECK_FARES: \"false\"\n                }\n            });\n            this.processes.set(checkIn.id, pythonProcess);\n            // Update status to scheduled\n            _db__WEBPACK_IMPORTED_MODULE_1__.db.update(checkIn.id, {\n                status: \"scheduled\"\n            });\n            // Handle process output\n            pythonProcess.stdout.on(\"data\", (data)=>{\n                const output = data.toString();\n                console.log(`[${checkIn.id}] ${output}`);\n                // Parse output for status updates\n                if (output.includes(\"Successfully scheduled\")) {\n                    const timeMatch = output.match(/at (.+?) \\(/);\n                    if (timeMatch) {\n                        _db__WEBPACK_IMPORTED_MODULE_1__.db.update(checkIn.id, {\n                            scheduledTime: timeMatch[1],\n                            status: \"scheduled\"\n                        });\n                    }\n                } else if (output.includes(\"Checking in...\")) {\n                    _db__WEBPACK_IMPORTED_MODULE_1__.db.update(checkIn.id, {\n                        status: \"checking-in\"\n                    });\n                } else if (output.includes(\"Successfully checked in\")) {\n                    const positionMatch = output.match(/Position: ([A-C]\\d+)/);\n                    _db__WEBPACK_IMPORTED_MODULE_1__.db.update(checkIn.id, {\n                        status: \"completed\",\n                        checkInTime: new Date().toISOString(),\n                        boardingPosition: positionMatch ? positionMatch[1] : undefined\n                    });\n                }\n            });\n            pythonProcess.stderr.on(\"data\", (data)=>{\n                console.error(`[${checkIn.id}] Error: ${data}`);\n            });\n            pythonProcess.on(\"error\", (error)=>{\n                _db__WEBPACK_IMPORTED_MODULE_1__.db.update(checkIn.id, {\n                    status: \"failed\",\n                    error: error.message\n                });\n                this.processes.delete(checkIn.id);\n            });\n            pythonProcess.on(\"exit\", (code)=>{\n                if (code !== 0) {\n                    _db__WEBPACK_IMPORTED_MODULE_1__.db.update(checkIn.id, {\n                        status: \"failed\",\n                        error: `Process exited with code ${code}`\n                    });\n                }\n                this.processes.delete(checkIn.id);\n            });\n        } catch (error) {\n            _db__WEBPACK_IMPORTED_MODULE_1__.db.update(checkIn.id, {\n                status: \"failed\",\n                error: error instanceof Error ? error.message : \"Unknown error\"\n            });\n        }\n    }\n    stopCheckIn(id) {\n        const process1 = this.processes.get(id);\n        if (process1) {\n            process1.kill();\n            this.processes.delete(id);\n            _db__WEBPACK_IMPORTED_MODULE_1__.db.update(id, {\n                status: \"failed\",\n                error: \"Cancelled by user\"\n            });\n            return true;\n        }\n        return false;\n    }\n    getActiveProcessCount() {\n        return this.processes.size;\n    }\n}\nconst checkInManager = new CheckInManager();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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aGVja2luLW1vbml0b3IvLi9saWIvY2hlY2tpbi1tYW5hZ2VyLnRzPzcxNTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc3Bhd24sIENoaWxkUHJvY2VzcyB9IGZyb20gJ2NoaWxkX3Byb2Nlc3MnXG5pbXBvcnQgeyBDaGVja0luIH0gZnJvbSAnLi90eXBlcydcbmltcG9ydCB7IGRiIH0gZnJvbSAnLi9kYidcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnXG5cbmNsYXNzIENoZWNrSW5NYW5hZ2VyIHtcbiAgcHJpdmF0ZSBwcm9jZXNzZXM6IE1hcDxzdHJpbmcsIENoaWxkUHJvY2Vzcz4gPSBuZXcgTWFwKClcbiAgcHJpdmF0ZSBzY3JpcHRQYXRoOiBzdHJpbmdcbiAgXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIC8vIFBhdGggdG8gdGhlIG1haW4gc291dGh3ZXN0LnB5IHNjcmlwdFxuICAgIC8vIEluIHByb2R1Y3Rpb24vRG9ja2VyLCB0aGUgc2NyaXB0IGlzIGluIHRoZSBwYXJlbnQgZGlyZWN0b3J5XG4gICAgLy8gSW4gZGV2ZWxvcG1lbnQsIGl0J3MgdHdvIGRpcmVjdG9yaWVzIHVwXG4gICAgLy8gRGV0ZXJtaW5lIHNjcmlwdCBwYXRoIGJhc2VkIG9uIGVudmlyb25tZW50XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIC8vIEluIHByb2R1Y3Rpb24gKERvY2tlciksIHRoZSBzY3JpcHQgaXMgaW4gdGhlIHBhcmVudCBkaXJlY3RvcnlcbiAgICAgIHRoaXMuc2NyaXB0UGF0aCA9ICcvYXBwL3NvdXRod2VzdC5weSdcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSW4gZGV2ZWxvcG1lbnQsIHVzZSBhYnNvbHV0ZSBwYXRoXG4gICAgICB0aGlzLnNjcmlwdFBhdGggPSAnL1VzZXJzL2h1c2t5L2F1dG8tc291dGh3ZXN0LWNoZWNrLWluL3NvdXRod2VzdC5weSdcbiAgICB9XG4gIH1cbiAgXG4gIGFzeW5jIHNjaGVkdWxlQ2hlY2tJbihcbiAgICBjb25maXJtYXRpb25OdW1iZXI6IHN0cmluZyxcbiAgICBmaXJzdE5hbWU6IHN0cmluZyxcbiAgICBsYXN0TmFtZTogc3RyaW5nLFxuICAgIHNvdXJjZTogJ25hcycgfCAnY2xvdWQnXG4gICk6IFByb21pc2U8Q2hlY2tJbj4ge1xuICAgIC8vIENyZWF0ZSBjaGVjay1pbiByZWNvcmRcbiAgICBjb25zdCBjaGVja0luID0gZGIuY3JlYXRlKHtcbiAgICAgIGNvbmZpcm1hdGlvbk51bWJlcixcbiAgICAgIGZpcnN0TmFtZSxcbiAgICAgIGxhc3ROYW1lLFxuICAgICAgc3RhdHVzOiAncGVuZGluZycsXG4gICAgICBzb3VyY2UsXG4gICAgfSlcbiAgICBcbiAgICAvLyBTdGFydCB0aGUgY2hlY2staW4gcHJvY2Vzc1xuICAgIHRoaXMuc3RhcnRDaGVja0luUHJvY2VzcyhjaGVja0luKVxuICAgIFxuICAgIHJldHVybiBjaGVja0luXG4gIH1cbiAgXG4gIHByaXZhdGUgc3RhcnRDaGVja0luUHJvY2VzcyhjaGVja0luOiBDaGVja0luKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFNwYXduIHRoZSBQeXRob24gcHJvY2Vzc1xuICAgICAgY29uc3QgcHl0aG9uUHJvY2VzcyA9IHNwYXduKCdweXRob24zJywgW1xuICAgICAgICB0aGlzLnNjcmlwdFBhdGgsXG4gICAgICAgIGNoZWNrSW4uY29uZmlybWF0aW9uTnVtYmVyLFxuICAgICAgICBjaGVja0luLmZpcnN0TmFtZSxcbiAgICAgICAgY2hlY2tJbi5sYXN0TmFtZVxuICAgICAgXSwge1xuICAgICAgICBjd2Q6IHBhdGguZGlybmFtZSh0aGlzLnNjcmlwdFBhdGgpLFxuICAgICAgICBlbnY6IHtcbiAgICAgICAgICAuLi5wcm9jZXNzLmVudixcbiAgICAgICAgICBBVVRPX1NPVVRIV0VTVF9DSEVDS19JTl9DSEVDS19GQVJFUzogJ2ZhbHNlJ1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgXG4gICAgICB0aGlzLnByb2Nlc3Nlcy5zZXQoY2hlY2tJbi5pZCwgcHl0aG9uUHJvY2VzcylcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIHN0YXR1cyB0byBzY2hlZHVsZWRcbiAgICAgIGRiLnVwZGF0ZShjaGVja0luLmlkLCB7IHN0YXR1czogJ3NjaGVkdWxlZCcgfSlcbiAgICAgIFxuICAgICAgLy8gSGFuZGxlIHByb2Nlc3Mgb3V0cHV0XG4gICAgICBweXRob25Qcm9jZXNzLnN0ZG91dC5vbignZGF0YScsIChkYXRhOiBCdWZmZXIpID0+IHtcbiAgICAgICAgY29uc3Qgb3V0cHV0ID0gZGF0YS50b1N0cmluZygpXG4gICAgICAgIGNvbnNvbGUubG9nKGBbJHtjaGVja0luLmlkfV0gJHtvdXRwdXR9YClcbiAgICAgICAgXG4gICAgICAgIC8vIFBhcnNlIG91dHB1dCBmb3Igc3RhdHVzIHVwZGF0ZXNcbiAgICAgICAgaWYgKG91dHB1dC5pbmNsdWRlcygnU3VjY2Vzc2Z1bGx5IHNjaGVkdWxlZCcpKSB7XG4gICAgICAgICAgY29uc3QgdGltZU1hdGNoID0gb3V0cHV0Lm1hdGNoKC9hdCAoLis/KSBcXCgvKTtcbiAgICAgICAgICBpZiAodGltZU1hdGNoKSB7XG4gICAgICAgICAgICBkYi51cGRhdGUoY2hlY2tJbi5pZCwgeyBcbiAgICAgICAgICAgICAgc2NoZWR1bGVkVGltZTogdGltZU1hdGNoWzFdLFxuICAgICAgICAgICAgICBzdGF0dXM6ICdzY2hlZHVsZWQnXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChvdXRwdXQuaW5jbHVkZXMoJ0NoZWNraW5nIGluLi4uJykpIHtcbiAgICAgICAgICBkYi51cGRhdGUoY2hlY2tJbi5pZCwgeyBzdGF0dXM6ICdjaGVja2luZy1pbicgfSlcbiAgICAgICAgfSBlbHNlIGlmIChvdXRwdXQuaW5jbHVkZXMoJ1N1Y2Nlc3NmdWxseSBjaGVja2VkIGluJykpIHtcbiAgICAgICAgICBjb25zdCBwb3NpdGlvbk1hdGNoID0gb3V0cHV0Lm1hdGNoKC9Qb3NpdGlvbjogKFtBLUNdXFxkKykvKTtcbiAgICAgICAgICBkYi51cGRhdGUoY2hlY2tJbi5pZCwgeyBcbiAgICAgICAgICAgIHN0YXR1czogJ2NvbXBsZXRlZCcsXG4gICAgICAgICAgICBjaGVja0luVGltZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgYm9hcmRpbmdQb3NpdGlvbjogcG9zaXRpb25NYXRjaCA/IHBvc2l0aW9uTWF0Y2hbMV0gOiB1bmRlZmluZWRcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgXG4gICAgICBweXRob25Qcm9jZXNzLnN0ZGVyci5vbignZGF0YScsIChkYXRhOiBCdWZmZXIpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgWyR7Y2hlY2tJbi5pZH1dIEVycm9yOiAke2RhdGF9YClcbiAgICAgIH0pXG4gICAgICBcbiAgICAgIHB5dGhvblByb2Nlc3Mub24oJ2Vycm9yJywgKGVycm9yKSA9PiB7XG4gICAgICAgIGRiLnVwZGF0ZShjaGVja0luLmlkLCB7IFxuICAgICAgICAgIHN0YXR1czogJ2ZhaWxlZCcsXG4gICAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2VcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5wcm9jZXNzZXMuZGVsZXRlKGNoZWNrSW4uaWQpXG4gICAgICB9KVxuICAgICAgXG4gICAgICBweXRob25Qcm9jZXNzLm9uKCdleGl0JywgKGNvZGUpID0+IHtcbiAgICAgICAgaWYgKGNvZGUgIT09IDApIHtcbiAgICAgICAgICBkYi51cGRhdGUoY2hlY2tJbi5pZCwgeyBcbiAgICAgICAgICAgIHN0YXR1czogJ2ZhaWxlZCcsXG4gICAgICAgICAgICBlcnJvcjogYFByb2Nlc3MgZXhpdGVkIHdpdGggY29kZSAke2NvZGV9YFxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wcm9jZXNzZXMuZGVsZXRlKGNoZWNrSW4uaWQpXG4gICAgICB9KVxuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGRiLnVwZGF0ZShjaGVja0luLmlkLCB7IFxuICAgICAgICBzdGF0dXM6ICdmYWlsZWQnLFxuICAgICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcidcbiAgICAgIH0pXG4gICAgfVxuICB9XG4gIFxuICBzdG9wQ2hlY2tJbihpZDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgY29uc3QgcHJvY2VzcyA9IHRoaXMucHJvY2Vzc2VzLmdldChpZClcbiAgICBpZiAocHJvY2Vzcykge1xuICAgICAgcHJvY2Vzcy5raWxsKClcbiAgICAgIHRoaXMucHJvY2Vzc2VzLmRlbGV0ZShpZClcbiAgICAgIGRiLnVwZGF0ZShpZCwgeyBzdGF0dXM6ICdmYWlsZWQnLCBlcnJvcjogJ0NhbmNlbGxlZCBieSB1c2VyJyB9KVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbiAgXG4gIGdldEFjdGl2ZVByb2Nlc3NDb3VudCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnByb2Nlc3Nlcy5zaXplXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGNoZWNrSW5NYW5hZ2VyID0gbmV3IENoZWNrSW5NYW5hZ2VyKClcbiJdLCJuYW1lcyI6WyJzcGF3biIsImRiIiwicGF0aCIsIkNoZWNrSW5NYW5hZ2VyIiwiY29uc3RydWN0b3IiLCJwcm9jZXNzZXMiLCJNYXAiLCJwcm9jZXNzIiwic2NyaXB0UGF0aCIsInNjaGVkdWxlQ2hlY2tJbiIsImNvbmZpcm1hdGlvbk51bWJlciIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwic291cmNlIiwiY2hlY2tJbiIsImNyZWF0ZSIsInN0YXR1cyIsInN0YXJ0Q2hlY2tJblByb2Nlc3MiLCJweXRob25Qcm9jZXNzIiwiY3dkIiwiZGlybmFtZSIsImVudiIsIkFVVE9fU09VVEhXRVNUX0NIRUNLX0lOX0NIRUNLX0ZBUkVTIiwic2V0IiwiaWQiLCJ1cGRhdGUiLCJzdGRvdXQiLCJvbiIsImRhdGEiLCJvdXRwdXQiLCJ0b1N0cmluZyIsImNvbnNvbGUiLCJsb2ciLCJpbmNsdWRlcyIsInRpbWVNYXRjaCIsIm1hdGNoIiwic2NoZWR1bGVkVGltZSIsInBvc2l0aW9uTWF0Y2giLCJjaGVja0luVGltZSIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImJvYXJkaW5nUG9zaXRpb24iLCJ1bmRlZmluZWQiLCJzdGRlcnIiLCJlcnJvciIsIm1lc3NhZ2UiLCJkZWxldGUiLCJjb2RlIiwiRXJyb3IiLCJzdG9wQ2hlY2tJbiIsImdldCIsImtpbGwiLCJnZXRBY3RpdmVQcm9jZXNzQ291bnQiLCJzaXplIiwiY2hlY2tJbk1hbmFnZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/checkin-manager.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db.ts":
/*!*******************!*\
  !*** ./lib/db.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   db: () => (/* binding */ db)\n/* harmony export */ });\n// In-memory database for check-ins (in production, use a real database)\nclass CheckInDatabase {\n    getAll() {\n        return Array.from(this.checkIns.values()).sort((a, b)=>new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime());\n    }\n    get(id) {\n        return this.checkIns.get(id);\n    }\n    create(checkIn) {\n        const id = Date.now().toString();\n        const now = new Date().toISOString();\n        const newCheckIn = {\n            ...checkIn,\n            id,\n            createdAt: now,\n            updatedAt: now\n        };\n        this.checkIns.set(id, newCheckIn);\n        return newCheckIn;\n    }\n    update(id, updates) {\n        const checkIn = this.checkIns.get(id);\n        if (!checkIn) return null;\n        const updated = {\n            ...checkIn,\n            ...updates,\n            updatedAt: new Date().toISOString()\n        };\n        this.checkIns.set(id, updated);\n        return updated;\n    }\n    getActiveCheckIns() {\n        return this.getAll().filter((c)=>[\n                \"pending\",\n                \"scheduled\",\n                \"checking-in\"\n            ].includes(c.status));\n    }\n    constructor(){\n        this.checkIns = new Map();\n    }\n}\nconst db = new CheckInDatabase();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGIudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLHdFQUF3RTtBQUd4RSxNQUFNQTtJQUdKQyxTQUFvQjtRQUNsQixPQUFPQyxNQUFNQyxJQUFJLENBQUMsSUFBSSxDQUFDQyxRQUFRLENBQUNDLE1BQU0sSUFBSUMsSUFBSSxDQUFDLENBQUNDLEdBQUdDLElBQ2pELElBQUlDLEtBQUtELEVBQUVFLFNBQVMsRUFBRUMsT0FBTyxLQUFLLElBQUlGLEtBQUtGLEVBQUVHLFNBQVMsRUFBRUMsT0FBTztJQUVuRTtJQUVBQyxJQUFJQyxFQUFVLEVBQXVCO1FBQ25DLE9BQU8sSUFBSSxDQUFDVCxRQUFRLENBQUNRLEdBQUcsQ0FBQ0M7SUFDM0I7SUFFQUMsT0FBT0MsT0FBd0QsRUFBVztRQUN4RSxNQUFNRixLQUFLSixLQUFLTyxHQUFHLEdBQUdDLFFBQVE7UUFDOUIsTUFBTUQsTUFBTSxJQUFJUCxPQUFPUyxXQUFXO1FBQ2xDLE1BQU1DLGFBQXNCO1lBQzFCLEdBQUdKLE9BQU87WUFDVkY7WUFDQUgsV0FBV007WUFDWEksV0FBV0o7UUFDYjtRQUNBLElBQUksQ0FBQ1osUUFBUSxDQUFDaUIsR0FBRyxDQUFDUixJQUFJTTtRQUN0QixPQUFPQTtJQUNUO0lBRUFHLE9BQU9ULEVBQVUsRUFBRVUsT0FBeUIsRUFBa0I7UUFDNUQsTUFBTVIsVUFBVSxJQUFJLENBQUNYLFFBQVEsQ0FBQ1EsR0FBRyxDQUFDQztRQUNsQyxJQUFJLENBQUNFLFNBQVMsT0FBTztRQUVyQixNQUFNUyxVQUFVO1lBQ2QsR0FBR1QsT0FBTztZQUNWLEdBQUdRLE9BQU87WUFDVkgsV0FBVyxJQUFJWCxPQUFPUyxXQUFXO1FBQ25DO1FBQ0EsSUFBSSxDQUFDZCxRQUFRLENBQUNpQixHQUFHLENBQUNSLElBQUlXO1FBQ3RCLE9BQU9BO0lBQ1Q7SUFFQUMsb0JBQStCO1FBQzdCLE9BQU8sSUFBSSxDQUFDeEIsTUFBTSxHQUFHeUIsTUFBTSxDQUFDQyxDQUFBQSxJQUMxQjtnQkFBQztnQkFBVztnQkFBYTthQUFjLENBQUNDLFFBQVEsQ0FBQ0QsRUFBRUUsTUFBTTtJQUU3RDs7YUExQ1F6QixXQUFpQyxJQUFJMEI7O0FBMkMvQztBQUVPLE1BQU1DLEtBQUssSUFBSS9CLGtCQUFpQiIsInNvdXJjZXMiOlsid2VicGFjazovL3NvdXRod2VzdC1jaGVja2luLW1vbml0b3IvLi9saWIvZGIudHM/MWRmMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbi1tZW1vcnkgZGF0YWJhc2UgZm9yIGNoZWNrLWlucyAoaW4gcHJvZHVjdGlvbiwgdXNlIGEgcmVhbCBkYXRhYmFzZSlcbmltcG9ydCB7IENoZWNrSW4gfSBmcm9tICcuL3R5cGVzJ1xuXG5jbGFzcyBDaGVja0luRGF0YWJhc2Uge1xuICBwcml2YXRlIGNoZWNrSW5zOiBNYXA8c3RyaW5nLCBDaGVja0luPiA9IG5ldyBNYXAoKVxuICBcbiAgZ2V0QWxsKCk6IENoZWNrSW5bXSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5jaGVja0lucy52YWx1ZXMoKSkuc29ydCgoYSwgYikgPT4gXG4gICAgICBuZXcgRGF0ZShiLmNyZWF0ZWRBdCkuZ2V0VGltZSgpIC0gbmV3IERhdGUoYS5jcmVhdGVkQXQpLmdldFRpbWUoKVxuICAgIClcbiAgfVxuICBcbiAgZ2V0KGlkOiBzdHJpbmcpOiBDaGVja0luIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5jaGVja0lucy5nZXQoaWQpXG4gIH1cbiAgXG4gIGNyZWF0ZShjaGVja0luOiBPbWl0PENoZWNrSW4sICdpZCcgfCAnY3JlYXRlZEF0JyB8ICd1cGRhdGVkQXQnPik6IENoZWNrSW4ge1xuICAgIGNvbnN0IGlkID0gRGF0ZS5ub3coKS50b1N0cmluZygpXG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgY29uc3QgbmV3Q2hlY2tJbjogQ2hlY2tJbiA9IHtcbiAgICAgIC4uLmNoZWNrSW4sXG4gICAgICBpZCxcbiAgICAgIGNyZWF0ZWRBdDogbm93LFxuICAgICAgdXBkYXRlZEF0OiBub3csXG4gICAgfVxuICAgIHRoaXMuY2hlY2tJbnMuc2V0KGlkLCBuZXdDaGVja0luKVxuICAgIHJldHVybiBuZXdDaGVja0luXG4gIH1cbiAgXG4gIHVwZGF0ZShpZDogc3RyaW5nLCB1cGRhdGVzOiBQYXJ0aWFsPENoZWNrSW4+KTogQ2hlY2tJbiB8IG51bGwge1xuICAgIGNvbnN0IGNoZWNrSW4gPSB0aGlzLmNoZWNrSW5zLmdldChpZClcbiAgICBpZiAoIWNoZWNrSW4pIHJldHVybiBudWxsXG4gICAgXG4gICAgY29uc3QgdXBkYXRlZCA9IHtcbiAgICAgIC4uLmNoZWNrSW4sXG4gICAgICAuLi51cGRhdGVzLFxuICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgfVxuICAgIHRoaXMuY2hlY2tJbnMuc2V0KGlkLCB1cGRhdGVkKVxuICAgIHJldHVybiB1cGRhdGVkXG4gIH1cbiAgXG4gIGdldEFjdGl2ZUNoZWNrSW5zKCk6IENoZWNrSW5bXSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0QWxsKCkuZmlsdGVyKGMgPT4gXG4gICAgICBbJ3BlbmRpbmcnLCAnc2NoZWR1bGVkJywgJ2NoZWNraW5nLWluJ10uaW5jbHVkZXMoYy5zdGF0dXMpXG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBkYiA9IG5ldyBDaGVja0luRGF0YWJhc2UoKVxuIl0sIm5hbWVzIjpbIkNoZWNrSW5EYXRhYmFzZSIsImdldEFsbCIsIkFycmF5IiwiZnJvbSIsImNoZWNrSW5zIiwidmFsdWVzIiwic29ydCIsImEiLCJiIiwiRGF0ZSIsImNyZWF0ZWRBdCIsImdldFRpbWUiLCJnZXQiLCJpZCIsImNyZWF0ZSIsImNoZWNrSW4iLCJub3ciLCJ0b1N0cmluZyIsInRvSVNPU3RyaW5nIiwibmV3Q2hlY2tJbiIsInVwZGF0ZWRBdCIsInNldCIsInVwZGF0ZSIsInVwZGF0ZXMiLCJ1cGRhdGVkIiwiZ2V0QWN0aXZlQ2hlY2tJbnMiLCJmaWx0ZXIiLCJjIiwiaW5jbHVkZXMiLCJzdGF0dXMiLCJNYXAiLCJkYiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/db.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcheckins%2Froute&page=%2Fapi%2Fcheckins%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcheckins%2Froute.ts&appDir=%2FUsers%2Fhusky%2Fauto-southwest-check-in%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fhusky%2Fauto-southwest-check-in%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();